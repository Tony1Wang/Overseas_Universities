#!/usr/bin/python
# -*- coding: utf-8 -*-

import requests
import re
import csv
import time

# 以下代码获取课程链接
# def get_short_href(url):
# 	start_str = '='
# 	end = '>'
# 	start = url.find(start_str)
# 	if start >= 0:
# 		start += len(start_str)
# 		end = url.find(end, start)
# 		if end >= 0:
# 			return url[start:end].strip()
#
#
# url = 'https://courses.leeds.ac.uk/a-z?type=PGT'
# r = requests.get(url,timeout=30)
# r.raise_for_status
# r.encoding = r.apparent_encoding
# html = r.text
#
# urls = []
# result = re.findall(r'<td class="title">(.*?)</a><br />', html, re.S)
# for i in result:
# 	urls.append('http:'+eval(get_short_href(i)))
# print(len(urls))

# 以上代码获取所有课程的独立页面，为节省计算机资源，不重复获取，保存如下,共‘332’个专业
urls = ['http://courses.leeds.ac.uk/27196/MSc_Accounting_and_Finance', 'http://courses.leeds.ac.uk/27197/MSc_Actuarial_Finance', 'http://courses.leeds.ac.uk/27198/MSc_Advanced_Chemical_Engineering', 'http://courses.leeds.ac.uk/27791/MSc_Advanced_Clinical_Practice', 'http://courses.leeds.ac.uk/27199/MSc_Advanced_Computer_Science', 'http://courses.leeds.ac.uk/27423/MSc_Advanced_Computer_Science_(Artificial_Intelligence)', 'http://courses.leeds.ac.uk/27200/MSc_Advanced_Computer_Science_(Cloud_Computing)', 'http://courses.leeds.ac.uk/27201/MSc_Advanced_Computer_Science_(Data_Analytics)', 'http://courses.leeds.ac.uk/27180/MSc_(Eng)_Advanced_Concrete_Technology', 'http://courses.leeds.ac.uk/27379/Postgraduate_Diploma_in_Advanced_Concrete_Technology', 'http://courses.leeds.ac.uk/27157/MClinDent_Advanced_Dental_Practice', 'http://courses.leeds.ac.uk/27158/MClinDent_Advanced_Dental_Practice', 'http://courses.leeds.ac.uk/27344/PGDip_Advanced_Dental_Practice', 'http://courses.leeds.ac.uk/27326/PGCert_Advanced_Dental_Practice', 'http://courses.leeds.ac.uk/27181/MSc_(Eng)_Advanced_Mechanical_Engineering', 'http://courses.leeds.ac.uk/27056/MA_Advertising_and_Design', 'http://courses.leeds.ac.uk/27057/MA_Advertising_and_Marketing', 'http://courses.leeds.ac.uk/27204/MSc_Aerospace_Engineering', 'http://courses.leeds.ac.uk/27058/MA_American_Literature_and_Culture', 'http://courses.leeds.ac.uk/27060/MA_Applied_Psychology_of_Music', 'http://courses.leeds.ac.uk/27007/Applied_Theatre_and_Intervention', 'http://courses.leeds.ac.uk/27346/PGDip_Applied_Translation_Studies', 'http://courses.leeds.ac.uk/27061/MA_Applied_Translation_Studies', 'http://courses.leeds.ac.uk/27059/MA_Applied_and_Professional_Ethics_(Online)', 'http://courses.leeds.ac.uk/27345/PGDip_Applied_and_Professional_Ethics_(Online)', 'http://courses.leeds.ac.uk/27062/MA_Arabic_English_Translation', 'http://courses.leeds.ac.uk/27063/MA_Art_Gallery_and_Museum_Studies', 'http://courses.leeds.ac.uk/27790/PGCert_Arts_Fundraising_and_Philanthropy', 'http://courses.leeds.ac.uk/27064/MA_Arts_Management_and_Heritage_Studies', 'http://courses.leeds.ac.uk/27205/MSc_Atmosphere-Ocean_Dynamics', 'http://courses.leeds.ac.uk/26992/PGCert_Audiences,_Engagement_and_Participation', 'http://courses.leeds.ac.uk/26979/MA_Audiences,_Engagement,_Participation', 'http://courses.leeds.ac.uk/26990/PGDip_Audiences,_Engagement,_Participation', 'http://courses.leeds.ac.uk/27065/MA_Audiovisual_Translation_Studies', 'http://courses.leeds.ac.uk/27182/MSc_(Eng)_Automotive_Engineering', 'http://courses.leeds.ac.uk/27206/MSc_Banking_and_International_Finance', 'http://courses.leeds.ac.uk/27172/MRes_Biodiversity_and_Conservation', 'http://courses.leeds.ac.uk/27207/MSc_Biodiversity_and_Conservation', 'http://courses.leeds.ac.uk/27208/MSc_Biodiversity_and_Conservation_with_African_Field_Course', 'http://courses.leeds.ac.uk/27173/MRes_Biodiversity_and_Conservation_with_African_Field_Course', 'http://courses.leeds.ac.uk/27066/MA_Biomedical_and_Health_Care_Ethics', 'http://courses.leeds.ac.uk/27347/PGDip_Biomedical_and_Health_Care_Ethics', 'http://courses.leeds.ac.uk/27348/PGDip_Biomedical_and_Health_Care_Ethics_(Online)', 'http://courses.leeds.ac.uk/27067/MA_Biomedical_and_Health_Care_Ethics_(Online)', 'http://courses.leeds.ac.uk/27175/MRes_Biomedical_and_Healthcare_Ethics', 'http://courses.leeds.ac.uk/27174/MRes_Biomedical_and_Healthcare_Ethics', 'http://courses.leeds.ac.uk/27417/MSc_Biopharmaceutical_Development', 'http://courses.leeds.ac.uk/27209/MSc_Biopharmaceutical_Development', 'http://courses.leeds.ac.uk/27210/MSc_Bioscience', 'http://courses.leeds.ac.uk/27211/MSc_Business_Analytics_and_Decision_Sciences', 'http://courses.leeds.ac.uk/27213/MSc_Business_Psychology_(Full-time)', 'http://courses.leeds.ac.uk/27349/PGDip_Business_and_Public_Service_Interpreting', 'http://courses.leeds.ac.uk/27068/MA_Business_and_Public_Service_Interpreting_and_Translation_Studies', 'http://courses.leeds.ac.uk/27327/PGCert_Cardiac_Device_and_Rhythm_Management', 'http://courses.leeds.ac.uk/27214/MSc_Chemical_Biology_and_Drug_Design', 'http://courses.leeds.ac.uk/27215/MSc_Chemical_Process_Engineering', 'http://courses.leeds.ac.uk/27400/MSc_Chemistry', 'http://courses.leeds.ac.uk/27069/MA_Childhood_Studies', 'http://courses.leeds.ac.uk/27070/MA_Chinese_and_Management', 'http://courses.leeds.ac.uk/27176/MRes_Classics', 'http://courses.leeds.ac.uk/27216/MSc_Climate_Change_and_Environmental_Policy', 'http://courses.leeds.ac.uk/27177/MRes_Climate_and_Atmospheric_Science', 'http://courses.leeds.ac.uk/27328/PGCert_Clinical_Assessment', 'http://courses.leeds.ac.uk/27000/MSc_Clinical_Dentistry_(Implant_Dentistry)', 'http://courses.leeds.ac.uk/27002/MSc_Clinical_Dentistry_(Restorative_Dentistry)', 'http://courses.leeds.ac.uk/27160/MEd__Clinical_Education', 'http://courses.leeds.ac.uk/27329/PGCert_Clinical_Education', 'http://courses.leeds.ac.uk/27218/MSc_Clinical_Embryology_(Distance_Learning)', 'http://courses.leeds.ac.uk/27350/PGDip_Clinical_Embryology_(Distance_Learning)', 'http://courses.leeds.ac.uk/27219/MSc_Clinical_Embryology_and_Assisted_Reproduction_Technology', 'http://courses.leeds.ac.uk/27325/PG_Diploma_Clinical_Embryology_and_Assisted_Reproduction_Technology', 'http://courses.leeds.ac.uk/27220/MSc_Cognitive_Development_and_Disorders', 'http://courses.leeds.ac.uk/27071/MA_Communication_and_Media', 'http://courses.leeds.ac.uk/27183/MSc_(Eng)_Communications_and_Signal_Processing', 'http://courses.leeds.ac.uk/27351/PGDip_Conference_Interpreting', 'http://courses.leeds.ac.uk/27072/MA_Conference_Interpreting_and_Translation_Studies', 'http://courses.leeds.ac.uk/27073/MA_Conflict,_Development_and_Security', 'http://courses.leeds.ac.uk/27221/MSc_Consumer_Analytics_and_Marketing_Strategy', 'http://courses.leeds.ac.uk/27074/MA_Corporate_Communications,_Marketing_and_Public_Relations', 'http://courses.leeds.ac.uk/27788/MA_Creative_Writing_and_Critical_Life', 'http://courses.leeds.ac.uk/27047/LLM_Criminal_Justice_and_Criminal_Law', 'http://courses.leeds.ac.uk/27222/MSc_Criminal_Justice_and_Criminology', 'http://courses.leeds.ac.uk/27076/MA_Critical_and_Applied_Musicology', 'http://courses.leeds.ac.uk/27077/MA_Critical_and_Cultural_Theory', 'http://courses.leeds.ac.uk/27164/MMus_Critical_and_Experimental_Composition', 'http://courses.leeds.ac.uk/27078/MA_Culture,_Creativity_and_Entrepreneurship', 'http://courses.leeds.ac.uk/27079/MA_Curating_Science', 'http://courses.leeds.ac.uk/27223/MSc_Data_Science_and_Analytics', 'http://courses.leeds.ac.uk/27798/PGDip_Deaf_Education', 'http://courses.leeds.ac.uk/27080/MA_Deaf_Education_(Teacher_of_the_Deaf_Qualification)', 'http://courses.leeds.ac.uk/27403/MSc_Dental_Materials', 'http://courses.leeds.ac.uk/27224/MSc_Dental_Public_Health', 'http://courses.leeds.ac.uk/27081/MA_Design', 'http://courses.leeds.ac.uk/27777/PGCert_Developing_Teachers&#039;_Research_and_Practice_in_Drama', 'http://courses.leeds.ac.uk/27225/MSc_Diagnostic_Imaging', 'http://courses.leeds.ac.uk/27352/PGDip_Diagnostic_Imaging', 'http://courses.leeds.ac.uk/27330/PGCert_Diagnostic_Imaging', 'http://courses.leeds.ac.uk/27184/MSc_(Eng)_Digital_Communications_Networks', 'http://courses.leeds.ac.uk/27393/MSc_Digital_Dentistry', 'http://courses.leeds.ac.uk/27083/MA_Digital_Education', 'http://courses.leeds.ac.uk/27084/MA_Disability_Studies', 'http://courses.leeds.ac.uk/27085/MA_East_Asian_Cultures_and_Societies', 'http://courses.leeds.ac.uk/27086/MA_East_Asian_Cultures_and_Societies_(Language_Pathway)', 'http://courses.leeds.ac.uk/27178/MRes_East_Asian_Studies', 'http://courses.leeds.ac.uk/27331/PGCert_Echocardiography', 'http://courses.leeds.ac.uk/27226/MSc_Ecological_Economics', 'http://courses.leeds.ac.uk/27227/MSc_Economics', 'http://courses.leeds.ac.uk/27228/MSc_Economics_and_Finance', 'http://courses.leeds.ac.uk/27087/MA_Education', 'http://courses.leeds.ac.uk/27088/MA_Education_&amp;_Professional_Enquiry', 'http://courses.leeds.ac.uk/27332/PGCert_Education_in_Primary_Care', 'http://courses.leeds.ac.uk/27333/PGCert_Education_in_Primary_Care', 'http://courses.leeds.ac.uk/27185/MSc_(Eng)_Electrical_Engineering_and_Renewable_Energy_Systems', 'http://courses.leeds.ac.uk/27089/MA_Electronic_and_Computer_Music', 'http://courses.leeds.ac.uk/27186/MSc_(Eng)_Electronic_and_Electrical_Engineering', 'http://courses.leeds.ac.uk/27187/MSc_(Eng)_Embedded_Systems_Engineering', 'http://courses.leeds.ac.uk/27229/MSc_Energy_and_Environment', 'http://courses.leeds.ac.uk/27230/MSc_Engineering_Geology', 'http://courses.leeds.ac.uk/27231/MSc_Engineering_Management', 'http://courses.leeds.ac.uk/27802/Postgraduate_Certificate_Engineering_Management', 'http://courses.leeds.ac.uk/27188/MSc_(Eng)_Engineering_Project_Management', 'http://courses.leeds.ac.uk/27189/MSc_(Eng)_Engineering,_Technology_and_Business_Management', 'http://courses.leeds.ac.uk/27090/MA_English_Literature', 'http://courses.leeds.ac.uk/27091/MA_English_Literature_(Modern_and_Contemporary_pathway)', 'http://courses.leeds.ac.uk/27092/MA_English_Literature_(Renaissance_pathway)', 'http://courses.leeds.ac.uk/27093/MA_English_Literature_(Romantic_pathway)', 'http://courses.leeds.ac.uk/27094/MA_English_Literature_(Victorian_pathway)', 'http://courses.leeds.ac.uk/27232/MSc_Enterprise_and_Entrepreneurship', 'http://courses.leeds.ac.uk/27234/MSc_Environment_and_Development', 'http://courses.leeds.ac.uk/27235/MSc_Environment_and_Development_with_Integrated_International_Fieldwork', 'http://courses.leeds.ac.uk/27190/MSc_(Eng)_Environmental_Engineering_and_Project_Management', 'http://courses.leeds.ac.uk/27032/Executive_MBA', 'http://courses.leeds.ac.uk/27237/MSc_Exploration_Geophysics', 'http://courses.leeds.ac.uk/27095/MA_Fashion_Enterprise_and_Society', 'http://courses.leeds.ac.uk/27096/MA_Film,_Photography_and_Media', 'http://courses.leeds.ac.uk/27238/MSc_Finance_and_Investment', 'http://courses.leeds.ac.uk/27239/MSc_Financial_Mathematics', 'http://courses.leeds.ac.uk/27240/MSc_Financial_Risk_Management', 'http://courses.leeds.ac.uk/27431/MSc_Financial_Technology', 'http://courses.leeds.ac.uk/27097/MA_Fine_Art', 'http://courses.leeds.ac.uk/27241/MSc_Food_Quality_and_Innovation', 'http://courses.leeds.ac.uk/27242/MSc_Food_Science', 'http://courses.leeds.ac.uk/27243/MSc_Food_Science_(Food_Biotechnology)', 'http://courses.leeds.ac.uk/27244/MSc_Food_Science_and_Nutrition', 'http://courses.leeds.ac.uk/27036/Full_Time_MBA', 'http://courses.leeds.ac.uk/27098/MA_Gender_Studies', 'http://courses.leeds.ac.uk/27419/MSc_Geographical_Information_Science', 'http://courses.leeds.ac.uk/27245/MSc_Geographical_Information_Systems', 'http://courses.leeds.ac.uk/27396/MSc_(Eng)_Geotechnical_Engineering', 'http://courses.leeds.ac.uk/27099/MA_Global_Development', 'http://courses.leeds.ac.uk/27100/MA_Global_Development_and_Africa', 'http://courses.leeds.ac.uk/27101/MA_Global_Development_and_Education', 'http://courses.leeds.ac.uk/27102/MA_Global_Development_and_Gender', 'http://courses.leeds.ac.uk/27103/MA_Global_Development_and_International_Political_Economy', 'http://courses.leeds.ac.uk/27104/MA_Global_Fashion_Management', 'http://courses.leeds.ac.uk/27432/MA_Global_Governance_and_Diplomacy', 'http://courses.leeds.ac.uk/27247/MSc_Global_Strategy_and_Innovation_Management', 'http://courses.leeds.ac.uk/27248/MSc_Global_Supply_Chain_Management', 'http://courses.leeds.ac.uk/26997/MSc_Health_Data_Analytics', 'http://courses.leeds.ac.uk/27250/MSc_Health_Informatics', 'http://courses.leeds.ac.uk/27336/PGCert_Health_Informatics_(Part_Time_-_12_months)', 'http://courses.leeds.ac.uk/27353/PGDip_Health_Informatics', 'http://courses.leeds.ac.uk/27337/PGCert_Health_Research', 'http://courses.leeds.ac.uk/27354/PGDip_Health_Research', 'http://courses.leeds.ac.uk/27251/MSc_High-Performance_Graphics_and_Games_Engineering', 'http://courses.leeds.ac.uk/27105/MA_History_of_Health,_Medicine_and_Society', 'http://courses.leeds.ac.uk/27106/MA_History_of_Science,_Technology_and_Medicine', 'http://courses.leeds.ac.uk/27107/MA_Human_Resource_Management', 'http://courses.leeds.ac.uk/27252/MSc_Inequalities_and_Social_Science', 'http://courses.leeds.ac.uk/27253/MSc_Infection,_Immunity_and_Human_Disease', 'http://courses.leeds.ac.uk/27254/MSc_Information_Systems_&amp;_Information_Management', 'http://courses.leeds.ac.uk/27048/LLM_Intellectual_Property_Law', 'http://courses.leeds.ac.uk/27049/LLM_International_Banking_and_Finance_Law', 'http://courses.leeds.ac.uk/27255/MSc_International_Business', 'http://courses.leeds.ac.uk/27050/LLM_International_Business_Law', 'http://courses.leeds.ac.uk/27109/MA_International_Communication', 'http://courses.leeds.ac.uk/27191/MSc_(Eng)_International_Construction_Management_and_Engineering', 'http://courses.leeds.ac.uk/27051/LLM_International_Corporate_Law', 'http://courses.leeds.ac.uk/27110/MA_International_Education_Leadership_and_Policy', 'http://courses.leeds.ac.uk/27256/MSc_International_Health', 'http://courses.leeds.ac.uk/27052/LLM_International_Human_Rights_Law', 'http://courses.leeds.ac.uk/27111/MA_International_Journalism', 'http://courses.leeds.ac.uk/27053/LLM_International_Law', 'http://courses.leeds.ac.uk/27257/MSc_International_Marketing_Management', 'http://courses.leeds.ac.uk/27112/MA_International_Relations', 'http://courses.leeds.ac.uk/27113/MA_International_Relations_and_Politics_of_the_Middle_East', 'http://courses.leeds.ac.uk/27054/LLM_International_Trade_Law', 'http://courses.leeds.ac.uk/27296/ND_Language_for_Arts_and_Humanities', 'http://courses.leeds.ac.uk/27297/ND_Language_for_Business_Management_and_Enterprise', 'http://courses.leeds.ac.uk/27298/ND_Language_for_Business:_Business_Management_and_Enterprise', 'http://courses.leeds.ac.uk/27299/ND_Language_for_Business:_Economics_and_Finance', 'http://courses.leeds.ac.uk/27300/ND_Language_for_Business:_Human_Resource_Management', 'http://courses.leeds.ac.uk/27301/ND_Language_for_Business:_Marketing', 'http://courses.leeds.ac.uk/27782/ND_Language_for_Business:_Postgraduate_Research', 'http://courses.leeds.ac.uk/27302/ND_Language_for_Communication_and_Society', 'http://courses.leeds.ac.uk/27303/ND_Language_for_Economics_and_Finance', 'http://courses.leeds.ac.uk/27304/ND_Language_for_Education', 'http://courses.leeds.ac.uk/27305/ND_Language_for_Engineering', 'http://courses.leeds.ac.uk/27306/ND_Language_for_Human_Resource_Management', 'http://courses.leeds.ac.uk/27307/ND_Language_for_Law', 'http://courses.leeds.ac.uk/27308/ND_Language_for_Marketing', 'http://courses.leeds.ac.uk/27785/ND_Language_for_Politics_and_Society', 'http://courses.leeds.ac.uk/27787/ND_Language_for_Postgraduate_Research', 'http://courses.leeds.ac.uk/27309/ND_Language_for_Science', 'http://courses.leeds.ac.uk/27310/ND_Language_for_Science:_Engineering', 'http://courses.leeds.ac.uk/27311/ND_Language_for_Science:_General_Science', 'http://courses.leeds.ac.uk/27786/ND_Language_for_Science:_Postgraduate_Research', 'http://courses.leeds.ac.uk/27312/ND_Language_for_Social_Science_and_Arts:_Arts_and_Humanities', 'http://courses.leeds.ac.uk/27313/ND_Language_for_Social_Science_and_Arts:_Communication_and_Society', 'http://courses.leeds.ac.uk/27314/ND_Language_for_Social_Science_and_Arts:_Education', 'http://courses.leeds.ac.uk/27315/ND_Language_for_Social_Science_and_Arts:_Law', 'http://courses.leeds.ac.uk/27784/ND_Language_for_Social_Science_and_Arts:_Politics_and_Society', 'http://courses.leeds.ac.uk/27783/ND_Language_for_Social_Science_and_Arts:_Postgraduate_Research', 'http://courses.leeds.ac.uk/27258/MSc_Law_and_Finance', 'http://courses.leeds.ac.uk/27055/LLM_Law_and_Social_Justice', 'http://courses.leeds.ac.uk/27114/MA_Leadership_and_Digital_Education', 'http://courses.leeds.ac.uk/27115/MA_Linguistics', 'http://courses.leeds.ac.uk/27116/MA_Linguistics_and_English_Language_Teaching', 'http://courses.leeds.ac.uk/27259/MSc_Management', 'http://courses.leeds.ac.uk/27260/MSc_Management_Consulting', 'http://courses.leeds.ac.uk/27261/MSc_Materials_Science_and_Engineering', 'http://courses.leeds.ac.uk/27263/MSc_Mathematics', 'http://courses.leeds.ac.uk/27264/MSc_Mathematics_and_Computer_Science', 'http://courses.leeds.ac.uk/27192/MSc_(Eng)_Mechatronics_and_Robotics', 'http://courses.leeds.ac.uk/27117/MA_Media_Industries', 'http://courses.leeds.ac.uk/27265/MSc_Medical_Education', 'http://courses.leeds.ac.uk/27266/MSc_Medical_Engineering', 'http://courses.leeds.ac.uk/27324/PG_Dip_Medical_Imaging', 'http://courses.leeds.ac.uk/27323/PG_Cert_Medical_Imaging', 'http://courses.leeds.ac.uk/27267/MSc_Medical_Imaging', 'http://courses.leeds.ac.uk/27268/MSc_Medical_Statistics', 'http://courses.leeds.ac.uk/27179/MRes_Medicine', 'http://courses.leeds.ac.uk/27118/MA_Medieval_History', 'http://courses.leeds.ac.uk/27119/MA_Medieval_Studies', 'http://courses.leeds.ac.uk/27120/MA_Middle_Eastern_and_Islamic_Studies', 'http://courses.leeds.ac.uk/27121/MA_Modern_History', 'http://courses.leeds.ac.uk/27269/MSc_Molecular_Medicine', 'http://courses.leeds.ac.uk/27040/GradDip_Music', 'http://courses.leeds.ac.uk/27122/MA_Music_and_Management', 'http://courses.leeds.ac.uk/26970/MA_Music_and_Wellbeing', 'http://courses.leeds.ac.uk/26974/PGCert_Music_and_Wellbeing', 'http://courses.leeds.ac.uk/26972/PGDip_Music_and_Wellbeing', 'http://courses.leeds.ac.uk/27123/MA_New_Media', 'http://courses.leeds.ac.uk/27271/MSc_Nutrition', 'http://courses.leeds.ac.uk/27414/PGCert_Oral_Surgery', 'http://courses.leeds.ac.uk/27412/MSc_Oral_Surgery', 'http://courses.leeds.ac.uk/27413/PGCert_Oral_Surgery', 'http://courses.leeds.ac.uk/27441/PGCert_Oral_and_Maxillofacial_Surgery', 'http://courses.leeds.ac.uk/27409/MSc_Oral_and_Maxillofacial_Surgery', 'http://courses.leeds.ac.uk/27416/PGDip_Oral_and_Maxillofacial_Surgery', 'http://courses.leeds.ac.uk/27272/MSc_Organizational_Psychology', 'http://courses.leeds.ac.uk/27155/Master_of_Science_in_Paediatric_Dentistry', 'http://courses.leeds.ac.uk/27165/MMus_Performance', 'http://courses.leeds.ac.uk/27355/PGDip_Performance', 'http://courses.leeds.ac.uk/27322/Performance_Design', 'http://courses.leeds.ac.uk/27273/MSc_Petroleum_Production_Engineering', 'http://courses.leeds.ac.uk/27356/PGDip_Pharmacy_Practice', 'http://courses.leeds.ac.uk/27274/MSc_Pharmacy_Practice', 'http://courses.leeds.ac.uk/27275/MSc_Pharmacy_Practice_with_Prescribing', 'http://courses.leeds.ac.uk/27357/PGDip_Pharmacy_Practice_with_Prescribing', 'http://courses.leeds.ac.uk/27124/MA_Philosophy', 'http://courses.leeds.ac.uk/27358/PGDip_Philosophy_of_Religion_and_Ethics', 'http://courses.leeds.ac.uk/27125/MA_Philosophy_of_Religion_and_Ethics', 'http://courses.leeds.ac.uk/27338/PGCert_Philosophy_of_Religion_and_Ethics', 'http://courses.leeds.ac.uk/27405/MSc_Physician_Associate_Studies', 'http://courses.leeds.ac.uk/27276/MSc_Physics', 'http://courses.leeds.ac.uk/27277/MSc_Physics_and_Business_Management', 'http://courses.leeds.ac.uk/27278/MSc_Plant_Science_and_Biotechnology', 'http://courses.leeds.ac.uk/27126/MA_Political_Communication', 'http://courses.leeds.ac.uk/27792/MSc', 'http://courses.leeds.ac.uk/27279/MSc_Polymers,_Colorants_and_Fine_Chemicals', 'http://courses.leeds.ac.uk/27129/MA_Postcolonial_Literary_and_Cultural_Studies', 'http://courses.leeds.ac.uk/27780/MSc_Precision_Medicine:_Genomics_&amp;_Analytics', 'http://courses.leeds.ac.uk/27130/MA_Professional_Language_and_Intercultural_Studies', 'http://courses.leeds.ac.uk/27131/MA_Promotional_Media', 'http://courses.leeds.ac.uk/27339/PGCert_Provision_for_Children_with_Developmental_Disorders', 'http://courses.leeds.ac.uk/27270/MSc_MSc_Psychological_Approaches_to_Health', 'http://courses.leeds.ac.uk/27132/MA_Psychotherapy_and_Counselling', 'http://courses.leeds.ac.uk/27167/MPA_Public_Administration', 'http://courses.leeds.ac.uk/27359/PGDip_Public_Health_(International)', 'http://courses.leeds.ac.uk/27169/MPH_Public_Health_(International)', 'http://courses.leeds.ac.uk/27340/PGCert_Public_Health_(International)', 'http://courses.leeds.ac.uk/27168/MPH_Public_Health_(International)', 'http://courses.leeds.ac.uk/27133/MA_Race_and_Resistance', 'http://courses.leeds.ac.uk/27397/MSc_(Eng)_Railway_Engineering_with_Project_Management', 'http://courses.leeds.ac.uk/27420/MSc_Railway_Operations,_Management_and_Policy', 'http://courses.leeds.ac.uk/27410/MA_Religion,_Politics_and_Society', 'http://courses.leeds.ac.uk/27280/MSc_River_Basin_Dynamics_and_Management_with_GIS', 'http://courses.leeds.ac.uk/27281/MSc_Security,_Conflict_and_Justice', 'http://courses.leeds.ac.uk/27136/MA_Security,_Terrorism_and_Insurgency', 'http://courses.leeds.ac.uk/27437/MSc_Senior_Leadership', 'http://courses.leeds.ac.uk/27139/MA_Social_History_of_Art', 'http://courses.leeds.ac.uk/27140/MA_Social_Research', 'http://courses.leeds.ac.uk/27141/MA_Social_Work', 'http://courses.leeds.ac.uk/27108/MA_in_Social_and_Cultural_History', 'http://courses.leeds.ac.uk/27137/MA_Social_and_Political_Thought', 'http://courses.leeds.ac.uk/27138/MA_Social_and_Public_Policy', 'http://courses.leeds.ac.uk/27142/MA_Society,_Culture_and_Media', 'http://courses.leeds.ac.uk/27143/MA_Special_Educational_Needs', 'http://courses.leeds.ac.uk/27282/MSc_Sport_and_Exercise_Medicine', 'http://courses.leeds.ac.uk/27283/MSc_Statistics', 'http://courses.leeds.ac.uk/27284/MSc_Statistics_with_Applications_to_Finance', 'http://courses.leeds.ac.uk/27193/MSc_(Eng)_Structural_Engineering', 'http://courses.leeds.ac.uk/27285/MSc_Structural_Geology_with_Geophysics', 'http://courses.leeds.ac.uk/27286/MSc_Sustainability_and_Business', 'http://courses.leeds.ac.uk/27287/MSc_Sustainability_and_Consultancy', 'http://courses.leeds.ac.uk/27288/MSc_Sustainability_in_Transport', 'http://courses.leeds.ac.uk/27289/MSc_Sustainable_Cities', 'http://courses.leeds.ac.uk/27399/MSc_Systemic_Family_Therapy', 'http://courses.leeds.ac.uk/27342/PGCert_Systemic_Practice', 'http://courses.leeds.ac.uk/27316/ND_Systemic_Practice_(Foundation)', 'http://courses.leeds.ac.uk/27317/ND_Systemic_Practice_(Intermediate)', 'http://courses.leeds.ac.uk/27149/MA_TESOL_Studies', 'http://courses.leeds.ac.uk/27161/MEd_Teaching_English_to_Speakers_of_other_Languages', 'http://courses.leeds.ac.uk/27145/MA_Teaching_English_to_Speakers_of_Other_Languages_(China)', 'http://courses.leeds.ac.uk/27144/MA_Teaching_English_to_Speakers_of_Other_Languages', 'http://courses.leeds.ac.uk/27146/MA_Teaching_English_to_Speakers_of_Other_Languages_(Teacher_Education)', 'http://courses.leeds.ac.uk/27147/MA_Teaching_English_to_Speakers_of_Other_Languages_and_Information_and_Communications_Technology', 'http://courses.leeds.ac.uk/27148/MA_Teaching_English_to_Speakers_of_Other_Languages_for_Young_Learners', 'http://courses.leeds.ac.uk/27290/MSc_Textiles', 'http://courses.leeds.ac.uk/27150/MA_Theology_and_Religious_Studies', 'http://courses.leeds.ac.uk/27361/PGDip_Theology_and_Religious_Studies', 'http://courses.leeds.ac.uk/27343/PGCert_Theology_and_Religious_Studies', 'http://courses.leeds.ac.uk/27291/MSc_Translational_Research_in_Oral_Sciences', 'http://courses.leeds.ac.uk/27292/MSc_Transport_Economics', 'http://courses.leeds.ac.uk/27398/MSc(Eng)_Transport_Infrastructure:_Design_and_Construction', 'http://courses.leeds.ac.uk/27293/MSc_Transport_Planning_(Full-Time)', 'http://courses.leeds.ac.uk/27194/MSc_(Eng)_Transport_Planning_and_Engineering_(Full-Time)', 'http://courses.leeds.ac.uk/27294/MSc_Transport_Planning_and_the_Environment_(Full-Time)', 'http://courses.leeds.ac.uk/27151/MA_War_and_Strategy', 'http://courses.leeds.ac.uk/27195/MSc_(Eng)_Water,_Sanitation_and_Health_Engineering', 'http://courses.leeds.ac.uk/27152/MA_Writing_for_Performance_&amp;_Publication']

def getData(url):
	info = []
	r = requests.get(url, timeout=30)
	r.raise_for_status
	r.encoding = r.apparent_encoding
	html = r.text
	try:
		data1 = re.search(r'<title>(.*?)</title>', html, re.S)
		tle = data1.group(1)
	except:
		tle = '100'
	try:
		data2 = re.search(r'Start date:</span>(.*?)</span>', html, re.S)
		sta = data2.group(1)
	except:
		sta = '200'
	try:
		data3 = re.search(r'Duration/Mode:</span>(.*?)</span>', html, re.S)
		dur = data3.group(1)
	except:
		dur = '300'
	try:
		data4 = re.search(r'Entry requirements:</span>(.*?)</span>', html, re.S)
		entry = data4.group(1)
	except:
		entry = '400'
	try:
		data5 = re.search(r'Language requirements:</span>(.*?)</span>', html, re.S)
		lan = data5.group(1)
	except:
		lan = '500'
	try:
		data6 = re.search(r'International fees:</span>(.*?)</span>', html, re.S)
		fee = data6.group(1)
	except:
		fee = '500'
	try:
		data7 = re.search(r'<h3>Entry requirements</h3>(.*?)</p>', html, re.S)
		full_entry = data7.group(1)
	except:
		full_entry = '600'

	info.append(tle)
	info.append(entry)
	info.append(dur)
	info.append(entry)
	info.append(lan)
	info.append(fee)
	info.append(full_entry)
	info.append(url)
	return info

def write_to_csv(data):
    out = open('Leeds_Master.csv', 'a', newline='',encoding='utf-8')#csv文件写入链接时需要指定编码格式为utf-8
    csv_write = csv.writer(out, dialect='excel')
    csv_write.writerow(data)

if __name__ == '__main__':
	count = 1
	for url in urls:
		print("正在获取第{n}个页面数据".format(n=count))
		gift = getData(url)
		print("正在写入第{n}个页面数据".format(n=count))
		write_to_csv(gift)
		count = count + 1
		time.sleep(15)
