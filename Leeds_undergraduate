#!/usr/bin/python
# -*- coding: utf-8 -*-

import requests
import re
import csv
import time

# 以下代码获取课程链接
# def get_short_href(url):
# 	start_str = '='
# 	end = '>'
# 	start = url.find(start_str)
# 	if start >= 0:
# 		start += len(start_str)
# 		end = url.find(end, start)
# 		if end >= 0:
# 			return url[start:end].strip()
#
#
# url = 'https://courses.leeds.ac.uk/a-z#section-a'
# r = requests.get(url,timeout=30)
# r.raise_for_status
# r.encoding = r.apparent_encoding
# html = r.text
#
# urls = []
# result = re.findall(r'<td class="title">(.*?)</a><br />', html, re.S)
# for i in result:
# 	urls.append('http:'+eval(get_short_href(i)))
# print(urls)

# 以上代码获取所有课程的独立页面，为节省计算机资源，不重复获取，保存如下,共‘306’个专业
urls =['http://courses.leeds.ac.uk/27622/BSc_Accounting_and_Finance', 'http://courses.leeds.ac.uk/27623/BSc_Actuarial_Mathematics', 'http://courses.leeds.ac.uk/27761/MPsyc,_BSc_Advanced_Psychology', 'http://courses.leeds.ac.uk/27725/MEng,_BEng_Aeronautical_and_Aerospace_Engineering', 'http://courses.leeds.ac.uk/27447/BA_Ancient_History_and_English', 'http://courses.leeds.ac.uk/27448/BA_Ancient_History_and_History', 'http://courses.leeds.ac.uk/27449/BA_Ancient_History_and_Philosophy', 'http://courses.leeds.ac.uk/27445/Applied_Health_-_Medical_Education', 'http://courses.leeds.ac.uk/27450/BA_Arabic_and_Chinese', 'http://courses.leeds.ac.uk/27451/BA_Arabic_and_Islamic_Studies', 'http://courses.leeds.ac.uk/27452/BA_Arabic_and_Japanese', 'http://courses.leeds.ac.uk/27453/BA_Arabic_and_Middle_Eastern_Studies', 'http://courses.leeds.ac.uk/27454/BA_Arabic_and_Portuguese', 'http://courses.leeds.ac.uk/27455/BA_Arabic_and_Russian_A', 'http://courses.leeds.ac.uk/27456/BA_Arabic_and_Russian_B', 'http://courses.leeds.ac.uk/27688/CertHE_Arabic,_Middle_Eastern_and_Islamic_Studies', 'http://courses.leeds.ac.uk/27726/MEng,_BEng_Architectural_Engineering', 'http://courses.leeds.ac.uk/27727/MEng,_BEng_Architecture', 'http://courses.leeds.ac.uk/27457/BA_Art_and_Design', 'http://courses.leeds.ac.uk/27458/BA_Arts_and_Humanities_with_Foundation_Year', 'http://courses.leeds.ac.uk/27459/BA_Asia_Pacific_Studies', 'http://courses.leeds.ac.uk/27460/BA_Asia_Pacific_Studies_(International)', 'http://courses.leeds.ac.uk/27461/BA_Asia_Pacific_Studies_and_Chinese', 'http://courses.leeds.ac.uk/27462/BA_Asia_Pacific_Studies_and_International_Relations', 'http://courses.leeds.ac.uk/27463/BA_Asia_Pacific_Studies_and_Japanese', 'http://courses.leeds.ac.uk/27464/BA_Asia_Pacific_Studies_and_Politics', 'http://courses.leeds.ac.uk/27728/MEng,_BEng_Automotive_Engineering', 'http://courses.leeds.ac.uk/27805/BEng_Aviation_Technology_with_Pilot_Studies_and_Management', 'http://courses.leeds.ac.uk/27626/BSc_Banking_and_Finance', 'http://courses.leeds.ac.uk/27703/MBiol,_BSc_Biochemistry_(Integrated_Masters)', 'http://courses.leeds.ac.uk/27627/BSc_Biochemistry_in_Relation_to_Medicine', 'http://courses.leeds.ac.uk/27705/MBiol,_BSc_Biological_Sciences_(Integrated_Masters)', 'http://courses.leeds.ac.uk/27704/MBiol,_BSc_Biological_Sciences_(Biotechnology_with_Enterprise)_(Integrated_Masters)', 'http://courses.leeds.ac.uk/27706/MBiol,_BSc_Biology_(Integrated_Masters)', 'http://courses.leeds.ac.uk/27443/_BSc_Biology_and_History_and_Philosophy_of_Science', 'http://courses.leeds.ac.uk/27465/BA_Biomedical_and_Health_Care_Ethics', 'http://courses.leeds.ac.uk/27629/BSc_Business_Analytics', 'http://courses.leeds.ac.uk/27630/BSc_Business_Economics', 'http://courses.leeds.ac.uk/27466/BA_Business_Management', 'http://courses.leeds.ac.uk/27631/BSc_Business_Management_and_Leadership', 'http://courses.leeds.ac.uk/27632/BSc_Business_Management_and_Mathematics', 'http://courses.leeds.ac.uk/27468/BA_Business_Management_and_the_Human_Resource', 'http://courses.leeds.ac.uk/27469/BA_Business_Management_with_Marketing', 'http://courses.leeds.ac.uk/27633/BSc_Business_Studies_With_Foundation_Year', 'http://courses.leeds.ac.uk/27634/BSc_Cardiovascular_Medicine', 'http://courses.leeds.ac.uk/27635/BSc_Cell_Biology_of_Human_Disease', 'http://courses.leeds.ac.uk/27636/BSc_Chartered_Manager_(Degree)_Apprenticeship', 'http://courses.leeds.ac.uk/27732/MEng,_BEng_Chemical_Engineering', 'http://courses.leeds.ac.uk/27729/MEng,_BEng_Chemical_and_Energy_Engineering', 'http://courses.leeds.ac.uk/27730/MEng,_BEng_Chemical_and_Materials_Engineering', 'http://courses.leeds.ac.uk/27731/MEng,_BEng_Chemical_and_Nuclear_Engineering', 'http://courses.leeds.ac.uk/27717/MChem,_BSc_Chemistry', 'http://courses.leeds.ac.uk/27637/BSc_Chemistry', 'http://courses.leeds.ac.uk/27638/BSc_Chemistry_and_Mathematics', 'http://courses.leeds.ac.uk/27718/MChem,_BSc_Chemistry_and_Mathematics', 'http://courses.leeds.ac.uk/27720/MChem,_BSc_MChem,_BSc_Chemistry_with_Study_Abroad', 'http://courses.leeds.ac.uk/27719/MChem,_BSc_MChem,_BSc_Chemistry_with_a_Year_in_Industry', 'http://courses.leeds.ac.uk/27544/BA_in_Child_and_Family_Studies', 'http://courses.leeds.ac.uk/27691/Foundation_Degree_in_Child_and_Family_Studies', 'http://courses.leeds.ac.uk/27470/BA_Childhood_Studies', 'http://courses.leeds.ac.uk/27471/BA_Chinese_(Modern)', 'http://courses.leeds.ac.uk/27472/BA_Chinese_and_East_Asian_Religions_and_Cultures', 'http://courses.leeds.ac.uk/27473/BA_Chinese_and_Italian_B', 'http://courses.leeds.ac.uk/27474/BA_Chinese_and_Japanese', 'http://courses.leeds.ac.uk/27475/BA_Chinese_and_Portuguese', 'http://courses.leeds.ac.uk/27476/BA_Chinese_and_Russian_A', 'http://courses.leeds.ac.uk/27477/BA_Chinese_and_Russian_B', 'http://courses.leeds.ac.uk/27478/BA_Chinese_and_Thai_Studies', 'http://courses.leeds.ac.uk/27735/MEng,_BEng_Civil_Engineering', 'http://courses.leeds.ac.uk/27736/MEng,_BEng_Civil_Engineering_with_Project_Management', 'http://courses.leeds.ac.uk/27737/MEng,_BEng_Civil_Engineering_with_Transport', 'http://courses.leeds.ac.uk/27733/MEng,_BEng_Civil_and_Environmental_Engineering', 'http://courses.leeds.ac.uk/27734/MEng,_BEng_Civil_and_Structural_Engineering', 'http://courses.leeds.ac.uk/27479/BA_Classical_Civilisation', 'http://courses.leeds.ac.uk/27480/BA_Classical_Civilisation_and_English', 'http://courses.leeds.ac.uk/27481/BA_Classical_Civilisation_and_History', 'http://courses.leeds.ac.uk/27482/BA_Classical_Civilisation_and_Philosophy', 'http://courses.leeds.ac.uk/27483/BA_Classical_Literature_and_English', 'http://courses.leeds.ac.uk/27484/BA_Classical_Literature_and_French', 'http://courses.leeds.ac.uk/27485/BA_Classical_Literature_and_Italian_B', 'http://courses.leeds.ac.uk/27486/BA_Classical_Literature_and_Philosophy', 'http://courses.leeds.ac.uk/27487/BA_Classical_Literature_and_Russian_B', 'http://courses.leeds.ac.uk/27639/BSc_Clinical_Anatomy', 'http://courses.leeds.ac.uk/27488/BA_Communication_and_Media', 'http://courses.leeds.ac.uk/27747/MEng,_BSc_Computer_Science', 'http://courses.leeds.ac.uk/27640/BSc_Computer_Science_(Digital_&amp;_Technology_Solutions)', 'http://courses.leeds.ac.uk/27748/MEng,_BSc_Computer_Science_with_Artificial_Intelligence', 'http://courses.leeds.ac.uk/27749/MEng,_BSc_Computer_Science_with_High-Performance_Graphics_and_Games_Engineering', 'http://courses.leeds.ac.uk/27444/_Computer_Science_with_Mathematics', 'http://courses.leeds.ac.uk/27489/BA_Criminal_Justice_and_Criminology', 'http://courses.leeds.ac.uk/27490/BA_Cultural_and_Media_Studies', 'http://courses.leeds.ac.uk/27641/BSc_Dental_Hygiene_and_Dental_Therapy', 'http://courses.leeds.ac.uk/27701/Master_and_Bachelor_of_Dental_Surgery_and_Bachelor_of_Science_(MChD_BChD,_BSc)', 'http://courses.leeds.ac.uk/27642/BSc_Diagnostic_Radiography', 'http://courses.leeds.ac.uk/27491/BA_Digital_Media', 'http://courses.leeds.ac.uk/27492/BA_East_Asian_Religions_and_Cultures', 'http://courses.leeds.ac.uk/27493/BA_East_Asian_Religions_and_Cultures_and_Japanese', 'http://courses.leeds.ac.uk/27494/BA_East_Asian_Religions_and_Cultures_and_Thai_Studies', 'http://courses.leeds.ac.uk/27708/MBiol,_BSc_Ecology_and_Conservation_Biology', 'http://courses.leeds.ac.uk/27644/BSc_Economics', 'http://courses.leeds.ac.uk/27645/BSc_Economics_and_Finance', 'http://courses.leeds.ac.uk/27495/BA_Economics_and_Geography', 'http://courses.leeds.ac.uk/27496/BA_Economics_and_History', 'http://courses.leeds.ac.uk/27647/BSc_Economics_and_Mathematics', 'http://courses.leeds.ac.uk/27497/BA_Economics_and_Philosophy', 'http://courses.leeds.ac.uk/27498/BA_Economics_and_Politics', 'http://courses.leeds.ac.uk/27499/BA_Education', 'http://courses.leeds.ac.uk/27740/MEng_Electronic_Engineering', 'http://courses.leeds.ac.uk/27738/MEng,_BEng_Electronic_and_Communications_Engineering', 'http://courses.leeds.ac.uk/27739/MEng,_BEng_Electronic_and_Electrical_Engineering', 'http://courses.leeds.ac.uk/27742/MEng,_BEng_Electronics_and_Computer_Engineering', 'http://courses.leeds.ac.uk/27741/MEng_Electronics_&amp;_Renewable_Energy_Systems', 'http://courses.leeds.ac.uk/27510/BA_English_Language_and_Linguistics', 'http://courses.leeds.ac.uk/27511/BA_English_Language_and_Literature', 'http://courses.leeds.ac.uk/27512/BA_English_Literature', 'http://courses.leeds.ac.uk/27513/BA_English_Literature_and_Theatre_Studies', 'http://courses.leeds.ac.uk/27514/BA_English_Literature_with_Creative_Writing', 'http://courses.leeds.ac.uk/27500/BA_English_and_Comparative_Literature', 'http://courses.leeds.ac.uk/27502/BA_English_and_Film_Studies', 'http://courses.leeds.ac.uk/27503/BA_English_and_History', 'http://courses.leeds.ac.uk/27504/BA_English_and_History_of_Art', 'http://courses.leeds.ac.uk/27505/BA_English_and_Music', 'http://courses.leeds.ac.uk/27506/BA_English_and_Philosophy', 'http://courses.leeds.ac.uk/27507/BA_English_and_Social_Policy', 'http://courses.leeds.ac.uk/27508/BA_English_and_Sociology', 'http://courses.leeds.ac.uk/27446/BA__Environment_and_Business', 'http://courses.leeds.ac.uk/27617/BSc__Environmental_Science', 'http://courses.leeds.ac.uk/27751/MEnv,_BSc_Environmental_Science_(International)', 'http://courses.leeds.ac.uk/27515/BA_Fashion_Design', 'http://courses.leeds.ac.uk/27516/BA_Fashion_Marketing', 'http://courses.leeds.ac.uk/27517/BA_Fashion_Technology', 'http://courses.leeds.ac.uk/27518/BA_Film,_Photography_and_Media', 'http://courses.leeds.ac.uk/27648/BSc_Financial_Mathematics', 'http://courses.leeds.ac.uk/27519/BA_Fine_Art', 'http://courses.leeds.ac.uk/27520/BA_Fine_Art_with_Contemporary_Cultural_Theory', 'http://courses.leeds.ac.uk/27521/BA_Fine_Art_with_History_of_Art', 'http://courses.leeds.ac.uk/27649/BSc_Food_Science', 'http://courses.leeds.ac.uk/27762/MSci,_BSc_Food_Science', 'http://courses.leeds.ac.uk/27763/MSci,_Bsc_Food_Science_(Industrial)', 'http://courses.leeds.ac.uk/27650/BSc_Food_Science_and_Nutrition', 'http://courses.leeds.ac.uk/27764/MSci,_BSc_Food_Science_and_Nutrition', 'http://courses.leeds.ac.uk/27765/MSci,_Bsc_Food_Science_and_Nutrition_(Industrial)', 'http://courses.leeds.ac.uk/27522/BA_French', 'http://courses.leeds.ac.uk/27709/MBiol,_BSc_Genetics_(Integrated_Masters)', 'http://courses.leeds.ac.uk/27651/BSc_Geography', 'http://courses.leeds.ac.uk/27523/BA_Geography', 'http://courses.leeds.ac.uk/27524/BA_Geography_and_Business_Management', 'http://courses.leeds.ac.uk/27653/BSc_Geography-Geology', 'http://courses.leeds.ac.uk/27652/BSc_Geography_with_Environmental_Mathematics', 'http://courses.leeds.ac.uk/27527/BA_Geography_with_Transport_Studies', 'http://courses.leeds.ac.uk/27618/BSc_Geology', 'http://courses.leeds.ac.uk/27754/MGeol,_BSc_Geology_(International)', 'http://courses.leeds.ac.uk/27619/BSc_Geophysics', 'http://courses.leeds.ac.uk/27755/MGeoPhys,_BSc_Geophysics_(International)', 'http://courses.leeds.ac.uk/27528/BA_German', 'http://courses.leeds.ac.uk/27529/BA_Graphic_and_Communication_Design', 'http://courses.leeds.ac.uk/27654/BSc_Healthcare_Science_(Audiology)', 'http://courses.leeds.ac.uk/27655/BSc_Healthcare_Science_(Cardiac_Physiology)', 'http://courses.leeds.ac.uk/27689/FD_Healthcare_for_Assistant_Practitioners', 'http://courses.leeds.ac.uk/27530/BA_History', 'http://courses.leeds.ac.uk/27531/BA_History_and_History_and_Philosophy_of_Science', 'http://courses.leeds.ac.uk/27532/BA_History_and_History_of_Art', 'http://courses.leeds.ac.uk/27534/BA_History_and_Philosophy', 'http://courses.leeds.ac.uk/27656/BSc_History_and_Philosophy_of_Science_and_Physics', 'http://courses.leeds.ac.uk/27535/BA_History_and_Philosophy_of_Science_and_Politics', 'http://courses.leeds.ac.uk/27536/BA_History_and_Philosophy_of_Science_and_Theology_and_Religious_Studies', 'http://courses.leeds.ac.uk/27538/BA_History_and_Sociology', 'http://courses.leeds.ac.uk/27540/BA_History_of_Art', 'http://courses.leeds.ac.uk/27542/BA_History_of_Art_with_Cultural_Studies', 'http://courses.leeds.ac.uk/27710/MBiol,_BSc_Human_Physiology_(Integrated_Masters)', 'http://courses.leeds.ac.uk/27657/BSc_Human_Physiology_in_Relation_to_Medicine', 'http://courses.leeds.ac.uk/27543/BA_Human_Resource_Management', 'http://courses.leeds.ac.uk/27658/BSc_Intercalated_Degree_in_International_Health', 'http://courses.leeds.ac.uk/27659/BSc_Interdisciplinary_Science_with_Foundation_Year', 'http://courses.leeds.ac.uk/27545/BA_Interdisciplinary_Studies_with_Preparation_for_Higher_Education', 'http://courses.leeds.ac.uk/27660/BSc_International_Business', 'http://courses.leeds.ac.uk/27661/BSc_International_Business_and_Finance', 'http://courses.leeds.ac.uk/27662/BSc_International_Business_and_Marketing', 'http://courses.leeds.ac.uk/27546/BA_International_Development', 'http://courses.leeds.ac.uk/27547/BA_International_History_and_Politics', 'http://courses.leeds.ac.uk/27548/BA_International_Relations', 'http://courses.leeds.ac.uk/27549/BA_Islamic_Studies', 'http://courses.leeds.ac.uk/27550/BA_Italian_A', 'http://courses.leeds.ac.uk/27551/BA_Italian_B', 'http://courses.leeds.ac.uk/27552/BA_Italian_B_and_Japanese', 'http://courses.leeds.ac.uk/27553/BA_Italian_B_and_Portuguese', 'http://courses.leeds.ac.uk/27554/BA_Italian_B_and_Russian_A', 'http://courses.leeds.ac.uk/27555/BA_Japanese', 'http://courses.leeds.ac.uk/27556/BA_Japanese_and_Russian_A', 'http://courses.leeds.ac.uk/27557/BA_Japanese_and_Russian_B', 'http://courses.leeds.ac.uk/27558/BA_Journalism', 'http://courses.leeds.ac.uk/27559/BA_Languages_and_Cultures', 'http://courses.leeds.ac.uk/27560/BA_Languages,_Cultures_and_Business', 'http://courses.leeds.ac.uk/27561/BA_Languages,_Cultures_and_Economics', 'http://courses.leeds.ac.uk/27562/BA_Languages,_Cultures_and_English', 'http://courses.leeds.ac.uk/27563/BA_Languages,_Cultures_and_Film_Studies', 'http://courses.leeds.ac.uk/27564/BA_Languages,_Cultures_and_History', 'http://courses.leeds.ac.uk/27565/BA_Languages,_Cultures_and_International_Relations', 'http://courses.leeds.ac.uk/27566/BA_Languages,_Cultures_and_Linguistics', 'http://courses.leeds.ac.uk/27567/BA_Languages,_Cultures_and_Philosophy', 'http://courses.leeds.ac.uk/27568/BA_Languages,_Cultures_and_Politics', 'http://courses.leeds.ac.uk/27694/LLB_Law_(Graduate_Programme)', 'http://courses.leeds.ac.uk/27693/LLB_Law', 'http://courses.leeds.ac.uk/27695/LLB_Law_with_European_Legal_Studies', 'http://courses.leeds.ac.uk/27696/LLB_Law_with_French_Law', 'http://courses.leeds.ac.uk/27697/LLB_Law_with_German_Law', 'http://courses.leeds.ac.uk/27698/LLB_Law_with_Hispanic_Law', 'http://courses.leeds.ac.uk/27699/LLB_Law_with_International_Legal_Studies', 'http://courses.leeds.ac.uk/27692/Foundation_Degree:_Learning_and_Teaching', 'http://courses.leeds.ac.uk/27569/BA_Learning_and_Teaching', 'http://courses.leeds.ac.uk/27570/BA_Learning_and_Teaching_(Special_Educational_Needs_and_Disability)', 'http://courses.leeds.ac.uk/27690/FD_Learning_and_Teaching_(Special_Educational_Needs_and_Disability)', 'http://courses.leeds.ac.uk/27571/BA_Liberal_Arts', 'http://courses.leeds.ac.uk/27572/BA_Liberal_Arts_(International_Language)', 'http://courses.leeds.ac.uk/27573/BA_Linguistics_and_Philosophy', 'http://courses.leeds.ac.uk/27574/BA_Linguistics_and_Phonetics', 'http://courses.leeds.ac.uk/27663/BSc_Mathematics', 'http://courses.leeds.ac.uk/27757/MMath,_BSc_Mathematics_-_(Single_degree_scheme)', 'http://courses.leeds.ac.uk/27664/BSc_Mathematics_and_Music', 'http://courses.leeds.ac.uk/27665/BSc_Mathematics_and_Philosophy', 'http://courses.leeds.ac.uk/27666/BSc_Mathematics_and_Statistics', 'http://courses.leeds.ac.uk/27756/MMath,_BSc_Mathematics_&amp;_Statistics', 'http://courses.leeds.ac.uk/27743/MEng,_BEng_Mechanical_Engineering', 'http://courses.leeds.ac.uk/27744/MEng,_BEng_Mechatronics_and_Robotics', 'http://courses.leeds.ac.uk/27711/MBiol,_BSc_Medical_Biochemistry_(Integrated_Masters)', 'http://courses.leeds.ac.uk/27745/MEng,_BEng_Medical_Engineering', 'http://courses.leeds.ac.uk/27667/BSc_Medical_Microbiology', 'http://courses.leeds.ac.uk/27712/MBiol,_BSc_Medical_Sciences_(Integrated_Masters)', 'http://courses.leeds.ac.uk/27722/MChem,_BSc_Medicinal_Chemistry', 'http://courses.leeds.ac.uk/27668/BSc_Medicinal_Chemistry', 'http://courses.leeds.ac.uk/27723/MChem,_BSc_Medicinal_Chemistry_with_Study_Abroad', 'http://courses.leeds.ac.uk/27721/MChem,_BSc_MChem,_BSc_Medicinal_Chemistry_with_a_Year_in_Industry', 'http://courses.leeds.ac.uk/27702/MBChB_Medicine_and_Surgery', 'http://courses.leeds.ac.uk/27713/MBiol,_BSc_Microbiology_(Integrated_Masters)', 'http://courses.leeds.ac.uk/27670/BSc_Microbiology_in_Relation_to_Medicine', 'http://courses.leeds.ac.uk/27575/BA_Middle_Eastern_Studies', 'http://courses.leeds.ac.uk/27576/BA_Middle_Eastern_Studies_and_Politics', 'http://courses.leeds.ac.uk/27671/BSc_Midwifery', 'http://courses.leeds.ac.uk/27577/BA_Music', 'http://courses.leeds.ac.uk/27616/BMus_Music_(Performance)', 'http://courses.leeds.ac.uk/27700/MArts,_BA_Music_and_Music_Psychology_(Integrated_Masters)', 'http://courses.leeds.ac.uk/27579/BA_Music_with_Enterprise', 'http://courses.leeds.ac.uk/27672/BSc_Music,_Multimedia_and_Electronics', 'http://courses.leeds.ac.uk/27687/BSc,MNatSc_Natural_Sciences', 'http://courses.leeds.ac.uk/27714/MBiol,_BSc_Neuroscience_(Integrated_Masters)', 'http://courses.leeds.ac.uk/27673/BSc_Neuroscience_in_Relation_to_Medicine', 'http://courses.leeds.ac.uk/27674/BSc_Nursing_(Adult)', 'http://courses.leeds.ac.uk/27675/BSc_Nursing_(Child)', 'http://courses.leeds.ac.uk/27676/BSc_Nursing_(Mental_Health)', 'http://courses.leeds.ac.uk/27799/FD_Nursing_Associate_(Apprenticeship)', 'http://courses.leeds.ac.uk/27766/MSci,_BSc_Nutrition', 'http://courses.leeds.ac.uk/27677/BSc_Nutrition', 'http://courses.leeds.ac.uk/27767/MSci,_Bsc_Nutrition_(Industrial)', 'http://courses.leeds.ac.uk/27746/MEng,_BEng_Petroleum_Engineering', 'http://courses.leeds.ac.uk/27715/MBiol,_BSc_Pharmacology_(Integrated_Masters)', 'http://courses.leeds.ac.uk/27678/BSc_Pharmacology_in_Relation_to_Medicine', 'http://courses.leeds.ac.uk/27580/BA_Philosophy', 'http://courses.leeds.ac.uk/27581/BA_Philosophy_and_History_and_Philosophy_of_Science', 'http://courses.leeds.ac.uk/27679/BSc_Philosophy_and_Physics', 'http://courses.leeds.ac.uk/27582/BA_Philosophy_and_Politics', 'http://courses.leeds.ac.uk/27586/BA_Philosophy,_Ethics_and_Religion', 'http://courses.leeds.ac.uk/27587/BA_Philosophy,_Politics_and_Economics', 'http://courses.leeds.ac.uk/27588/BA_Philosophy,_Psychology_and_Scientific_Thought', 'http://courses.leeds.ac.uk/27759/MPhys,_BSc_Physics', 'http://courses.leeds.ac.uk/27620/BSc__Physics', 'http://courses.leeds.ac.uk/27760/MPhys,_BSc_Physics_with_Astrophysics', 'http://courses.leeds.ac.uk/27621/BSc__Physics_with_Astrophysics', 'http://courses.leeds.ac.uk/27589/BA_Politics', 'http://courses.leeds.ac.uk/27590/BA_Politics_and_Social_Policy', 'http://courses.leeds.ac.uk/27591/BA_Politics_and_Sociology', 'http://courses.leeds.ac.uk/27593/BA_Portuguese_and_Russian_A', 'http://courses.leeds.ac.uk/27594/BA_Portuguese_and_Russian_B', 'http://courses.leeds.ac.uk/27724/MDes,_BSc_Product_Design', 'http://courses.leeds.ac.uk/27595/BA_Professional_Studies', 'http://courses.leeds.ac.uk/27680/BSc_Psychology', 'http://courses.leeds.ac.uk/27681/BSc_Psychology_(Intercalated_Programme)', 'http://courses.leeds.ac.uk/27682/BSc_Psychology_with_Education', 'http://courses.leeds.ac.uk/27596/BA_Religion,_Politics_&amp;_Society', 'http://courses.leeds.ac.uk/27597/BA_Russian_A', 'http://courses.leeds.ac.uk/27598/BA_Russian_B', 'http://courses.leeds.ac.uk/27599/BA_Social_Policy', 'http://courses.leeds.ac.uk/27600/BA_Social_Policy_and_Crime', 'http://courses.leeds.ac.uk/27601/BA_Social_Policy_and_Sociology', 'http://courses.leeds.ac.uk/27602/BA_Social_Policy_with_Enterprise', 'http://courses.leeds.ac.uk/27603/BA_Social_Science', 'http://courses.leeds.ac.uk/27604/BA_Social_Work', 'http://courses.leeds.ac.uk/27605/BA_Sociology', 'http://courses.leeds.ac.uk/27606/BA_Sociology_and_International_Relations', 'http://courses.leeds.ac.uk/27608/BA_Spanish', 'http://courses.leeds.ac.uk/27609/BA_Spanish,_Portuguese_and_Latin_American_Studies', 'http://courses.leeds.ac.uk/27769/MSci,_BSc_Sports_Science_and_Physiology_(Integrated_Masters)', 'http://courses.leeds.ac.uk/27768/MSci,_BSc_Sports_and_Exercise_Sciences_(Integrated_Masters)', 'http://courses.leeds.ac.uk/27683/BSc_Sports_Science_in_Relation_to_Medicine', 'http://courses.leeds.ac.uk/27776/Studies_in_Science_with_Foundation_Year', 'http://courses.leeds.ac.uk/27684/BSc_Sustainability_and_Environmental_Management', 'http://courses.leeds.ac.uk/27753/MEnv,_BSc_Sustainability_and_Environmental_Management_(International)', 'http://courses.leeds.ac.uk/27610/BA_Teaching_English_to_Speakers_of_Other_Languages_(TESOL)', 'http://courses.leeds.ac.uk/27611/BA_Textile_Design', 'http://courses.leeds.ac.uk/27612/BA_Thai_Studies', 'http://courses.leeds.ac.uk/27613/BA_Theatre_and_Performance', 'http://courses.leeds.ac.uk/27614/BA_Theatre_and_Performance_with_Enterprise', 'http://courses.leeds.ac.uk/27615/BA_Theology_and_Religious_Studies', 'http://courses.leeds.ac.uk/27758/MPhys_Theoretical_Physics', 'http://courses.leeds.ac.uk/27685/BSc_Theoretical_Physics', 'http://courses.leeds.ac.uk/27716/MBiol,_BSc_Zoology_(Integrated_Masters)', 'http://courses.leeds.ac.uk/27686/BSc_Zoology_in_Relation_to_Medicine_and_Veterinary_Science']

def getData(url):
	info = []
	r = requests.get(url, timeout=30)
	r.raise_for_status
	r.encoding = r.apparent_encoding
	html = r.text
	try:
		data1 = re.search(r'<title>(.*?)</title>', html, re.S)
		title = data1.group(1)
	except:
		title = '100'
	try:
		data2 = re.search(r'<h3>Entry requirements</h3>(.*?)<h4>Alternative entry</h4>', html, re.S)
		entry = data2.group(1)
	except:
		entry = '200'
	try:
		data3 = re.search(r'<h3>English language requirements</h3>(.*?)Improve your English', html, re.S)
		English = data3.group(1)
	except:
		English = '300'
	try:
		data4 = re.search(r'<h3>Fees</h3>(.*?)Tuition fees for 2019 entry', html, re.S)
		Fees = data4.group(1)
	except:
		Fees = '400'
	try:
		data5 = re.search(r'Tuition fees for 2019 entry(.*?)Tuition fees for 2020 entry', html, re.S)
		Fees2019 = data5.group(1)
	except:
		Fees2019 = '500'
	try:
		data6 = re.search(r'Tuition fees for 2020 entry(.*?)</p>', html, re.S)
		Fees2020 = data6.group(1)
	except:
		Fees2020 = '600'

	info.append(title)
	info.append(entry)
	info.append(English)
	info.append(Fees)
	info.append(Fees2019)
	info.append(Fees2020)
	info.append(url)
	return info

def write_to_csv(data):
    out = open('Leeds.csv', 'a', newline='',encoding='utf-8')#csv文件写入链接时需要指定编码格式为utf-8
    csv_write = csv.writer(out, dialect='excel')
    csv_write.writerow(data)

if __name__ == '__main__':
	count = 1
	for url in urls:
		print("正在获取第{n}个页面数据".format(n=count))
		gift = getData(url)
		print("正在写入第{n}个页面数据".format(n=count))
		write_to_csv(gift)
		count = count + 1
		time.sleep(30)
